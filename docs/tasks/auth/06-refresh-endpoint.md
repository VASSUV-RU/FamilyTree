# 06 — POST /auth/refresh

Цель
- Выдать новый access‑JWT по refresh‑токену из тела запроса, с ротацией `jti`.

Контракт
- Запрос (JSON): `{ "refreshToken": "<RID>" }`.
- Ответ: `AuthResponse` (минимум `accessToken`, можно вернуть и исходный `refreshToken`).

Требования
- Принять `refreshToken` из тела (`POST`), провести валидацию (не пустой), проверить статус/срок.
- Создать новый `jti`, пересоздать `sess:{jtiNew}` из текущего состояния пользователя/семьи, добавить старый `jti` в `blk:{jtiOld}` на остаток TTL.
- Обновить запись refresh‑токена, привязав её к новому `jti` (поле `sessionJti`), отметить `rotatedAt`.

Приёмочные критерии
- Валидный refresh → новый access и новый `jti`.
- Отозванный/просроченный refresh → 401.
- Пустое/некорректное тело запроса → 400.

Тест‑идеи
- Успешное обновление, проверка смены `jti` и блокировки старого `jti`.
- Повторное использование старого `jti` → отказ (через блок‑лист).
