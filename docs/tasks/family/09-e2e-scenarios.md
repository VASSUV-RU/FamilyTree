# 09 — UI/бот сценарии и end-to-end проверка семьи

Цель
- Прописать и автоматизировать пользовательские сценарии, покрывающие весь цикл работы семьи.

Требования
- Описать ключевые сценарии в документации (flows + чек‑листы):
  - онбординг владельца (создание семьи, добавление первого участника через бот);
  - принятие инвайта, подтверждение ролей, переключение активной семьи;
  - управление членами и профилем, выход участника.
- E2E тесты (Testcontainers + REST/бот): создают пользователей, семью, выполняют API вызовы и проверяют состояние БД/Redis.
- Автотесты должны использовать Mockito только для внешних интеграций (Telegram API), остальное — реальные сервисы.
- Добавить в CI step `./gradlew :app:e2e:test` (todo, когда появится модуль) и описать в README.

Приёмочные критерии
- Документация сценариев доступна (ссылки из `docs/flows`).
- Минимум один автоматизированный сценарий запускается локально и в CI.
- Ошибки в E2E приводят к понятным логам (устойчивость к временным зависаниям).

Тест‑идеи
- Сценарий: новый владелец → создаёт семью → приглашает участника → участник принимает → проверки прав.
- Сценарий: участник покидает семью → сессии инвалидируются.
- Сценарий: смена активной семьи → фронт получает новый JWT.
